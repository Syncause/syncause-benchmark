# AgentSRE åŸºå‡†æµ‹è¯•

[English Version](README.md)

## é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ—¨åœ¨è®°å½•å’Œè¯„ä¼°SynCauseå¹³å°çš„AIæ™ºèƒ½ä½“-AgentSREåœ¨ç³»ç»Ÿæ ¹å› åˆ†æé¢†åŸŸçš„åŸºå‡†æµ‹è¯•ã€‚é€šè¿‡æ ‡å‡†åŒ–çš„æµ‹è¯•æµç¨‹ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå®¢è§‚åœ°æ¯”è¾ƒä¸åŒæ¨¡å‹åœ¨æ•…éšœè¯Šæ–­ä»»åŠ¡ä¸­çš„æ€§èƒ½ï¼ŒåŒ…æ‹¬Top-1ã€Top-3ã€Top-5å‡†ç¡®ç‡ä»¥åŠæˆæœ¬æ•ˆç›Šåˆ†æã€‚

## æµ‹è¯•æ•°æ®é›†æ¥æºå’Œæµ‹è¯•æ–¹æ³•

### æ•°æ®é›†æè¿°
æµ‹è¯•æ•°æ®é›†æ¥æºäº [RCAEval](https://github.com/phamquiluan/RCAEval) é¡¹ç›®ï¼Œä½¿ç”¨è¯¥é¡¹ç›®å’Œè®ºæ–‡æä¾›çš„æ–¹æ³•è®ºæ³¨å…¥æ•…éšœï¼Œå¹¶ä½¿ç”¨syncauseå¹³å°ç”Ÿæˆæ•°æ®é›†ã€‚
æ•°æ®é›†åœ¨backupdataç›®å½•,æ•°æ®é›†åŒ…å«ï¼š

- **æ•…éšœåœºæ™¯**: æ¶µç›–Kubernetesã€å¾®æœåŠ¡ã€ç½‘ç»œã€å­˜å‚¨ç­‰å¤šç§æ•…éšœç±»å‹
- **æ—¥å¿—æ•°æ®**: åŒ…å«ç³»ç»Ÿæ—¥å¿—ã€åº”ç”¨æ—¥å¿—ã€é”™è¯¯æ—¥å¿—ç­‰
- **æŒ‡æ ‡æ•°æ®**: æ€§èƒ½æŒ‡æ ‡ã€èµ„æºä½¿ç”¨æƒ…å†µç­‰
- **æ ‡æ³¨ä¿¡æ¯**: ä¸“å®¶æ ‡æ³¨çš„çœŸå®æ ¹å› å’Œè§£å†³æ–¹æ¡ˆ

## æµ‹è¯•æ–¹æ³•
æˆ‘ä»¬å®Œå…¨ä½¿ç”¨äº†[RCAEval](https://github.com/phamquiluan/RCAEval) é¡¹ç›®æ¥è¿›è¡Œæ ‡å‡†åŒ–æµ‹è¯•ï¼Œåœ¨è¯¥é¡¹ç›®å¢åŠ äº†ä¸€ç§æ–°çš„æ ¹å› åˆ†æç®—æ³•ï¼ˆagentsreåˆ†ææ³•ï¼‰ï¼Œç”±RCAEvalå‘èµ·æµ‹è¯•å¹¶ç”Ÿæˆæµ‹è¯•æŠ¥å‘Šã€‚

## æµ‹è¯•ç»“æœ

### æ¨¡å‹å‡†ç¡®ç‡å¯¹æ¯”

| æ¨¡å‹ | Top-1å‡†ç¡®ç‡ | Top-3å‡†ç¡®ç‡ | Top-5å‡†ç¡®ç‡ | æ€»æµ‹è¯•æ•° | æˆåŠŸç‡ |
|------|-------------|-------------|-------------|----------|--------|
| gpt-4o | 52% | 78% | 89% | 105 | ğŸŸ¡ 52% |
| claude-3.5-sonnet | 82% | 94% | 98% | 105 | ğŸŸ¢ 82% |
| gpt-4.1 | 67% | 85% | 93% | 105 | ğŸŸ¡ 67% |
| gpt-5 | 74% | 88% | 95% | 105 | ğŸŸ¡ 74% |
| deepseek-v3.1 | 75% | 89% | 96% | 105 | ğŸŸ¡ 75% |
| qwen3-next-80b | 55% | 79% | 90% | 105 | ğŸŸ¡ 55% |

### æ¨¡å‹æˆæœ¬å¯¹æ¯”

| æ¨¡å‹ | æµ‹è¯•æ•° | å¹³å‡æˆæœ¬ | æœ€å°æˆæœ¬ | æœ€å¤§æˆæœ¬ | æ€»æˆæœ¬ |
|------|--------|----------|----------|----------|--------|
| gpt-4o | 93 | $0.18 | $0.03 | $1.00 | $16.67 |
| claude-3.5-sonnet | 95 | $0.25 | $0.06 | $1.01 | $22.85 |
| gpt-4.1 | 94 | $0.11 | $0.02 | $0.66 | $10.68 |
| gpt-5 | 94 | $0.19 | $0.02 | $0.59 | $17.43 |
| deepseek-v3.1 | 95 | $0.08 | $0.01 | $0.35 | $7.60 |
| qwen3-next-80b | 95 | $0.06 | $0.01 | $0.28 | $5.70 |

### æ¨¡å‹å»¶è¿Ÿå¯¹æ¯”

| æ¨¡å‹ | å¹³å‡(ç§’) | æœ€å°(ç§’) | æœ€å¤§(ç§’) | P50(ç§’) | P95(ç§’) |
|------|----------|----------|----------|---------|---------|
| gpt-4o | 26.6 | 8.0 | 67.1 | 25.9 | 55.3 |
| claude-3.5-sonnet | 48.9 | 9.8 | 263.9 | 43.4 | 100.8 |
| gpt-4.1 | 40.7 | 5.5 | 645.1 | 25.4 | 51.7 |
| gpt-5 | 138.5 | 17.4 | 859.1 | 81.6 | 752.3 |
| deepseek-v3.1 | 75.5 | 21.1 | 221.1 | 68.2 | 145.3 |
| qwen3-next-80b | 45.2 | 12.3 | 156.7 | 38.9 | 89.4 |

### æ¯ç±»æ•…éšœçš„å‡†ç¡®åº¦

## å¤ç°æ­¥éª¤

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# 1. è¿›å…¥æµ‹è¯•
cd RCAEval

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

```

### 2. æ•°æ®å‡†å¤‡

```bash
# è®¿é—®SynCauseå¹³å°
# 1. æ‰“å¼€ https://syn-cause.com/
# 2. æŒ‰ç…§ç½‘é¡µæç¤ºå®‰è£…SynCauseå¹³å°

# å¯¼å…¥æµ‹è¯•æ•°æ®
cd backupscript
./backup_scripts/victoriametrics_import.sh vm_backup_20241024_110000.tar.gz
./backup_scripts/clickhouse_import.sh clickhouse_backup_20241024_110000.tar.gz apo_restore
```

### 3. è¿è¡ŒåŸºå‡†æµ‹è¯•

```bash
# è¿è¡ŒRCAEvalåŸºå‡†æµ‹è¯•
python test_srechat_with_error_inject.py
```

### 4. è·å–ç»“æœ

#### ä»æ—¥å¿—è·å–å‡†ç¡®ç‡
```bash
# æŸ¥çœ‹æµ‹è¯•æ—¥å¿—
tail -f logs/benchmark.log

# æå–å‡†ç¡®ç‡ä¿¡æ¯
grep "Accuracy" logs/benchmark.log
grep "Top-1" logs/benchmark.log
grep "Top-3" logs/benchmark.log
grep "Top-5" logs/benchmark.log
```

#### ä»Braintrustè·å–æˆæœ¬ä¿¡æ¯
```bash
# æŸ¥çœ‹Braintrustå®éªŒç»“æœ
# è®¿é—®: https://www.braintrust.dev/app/your-org/p/AgentSRE-Benchmark
# åœ¨å®éªŒé¡µé¢æŸ¥çœ‹:
# - æ€»æˆæœ¬ (Total Cost)
# - å¹³å‡æˆæœ¬ (Average Cost)
# - æ¯æ¬¡æµ‹è¯•æˆæœ¬ (Cost per Test)
```

## é¡¹ç›®ç»“æ„

```
agentsre-benchmark/
â”œâ”€â”€ README.md                 # é¡¹ç›®è¯´æ˜æ–‡æ¡£ (è‹±æ–‡)
â”œâ”€â”€ README_CN.md             # é¡¹ç›®è¯´æ˜æ–‡æ¡£ (ä¸­æ–‡)
â”œâ”€â”€ requirements.txt          # Pythonä¾èµ–
â”œâ”€â”€ run_benchmark.py         # åŸºå‡†æµ‹è¯•ä¸»è„šæœ¬
â”œâ”€â”€ testdata/                # æµ‹è¯•æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ import_data.py       # æ•°æ®å¯¼å…¥è„šæœ¬
â”‚   â””â”€â”€ syncause_dataset.json # SynCauseæ•°æ®é›†
â”œâ”€â”€ results/                 # æµ‹è¯•ç»“æœç›®å½•
â”‚   â”œâ”€â”€ benchmark_results.json
â”‚   â””â”€â”€ braintrust_data.json
â”œâ”€â”€ reports/                 # æŠ¥å‘Šç›®å½•
â”‚   â””â”€â”€ benchmark_report.html
â””â”€â”€ logs/                   # æ—¥å¿—ç›®å½•
    â””â”€â”€ benchmark.log
```

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤æ–°çš„æµ‹è¯•ç”¨ä¾‹å’Œæ”¹è¿›å»ºè®®ï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. å‘èµ· Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

**æ³¨æ„**: æœ¬åŸºå‡†æµ‹è¯•ç»“æœä¼šå®šæœŸæ›´æ–°ï¼Œè¯·å…³æ³¨æœ€æ–°ç‰ˆæœ¬ã€‚
